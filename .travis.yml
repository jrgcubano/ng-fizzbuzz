language: node_js
node_js:
   - '7'
branches:
   only:
      - master
before_script:
   - npm install -g firebase-tools
   - npm install -g @angular/cli
script:
   - npm run test
   - npm run build-prod-aot
after_success:
   - test $TRAVIS_PULL_REQUEST == "false" && test $TRAVIS_BRANCH == "master" && firebase deploy --token $FIREBASE_TOKEN
   - npm run report-coverage

